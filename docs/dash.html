<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ProofCortex • Trust Verifiable AI Dashboard</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: false, theme: 'base', securityLevel: 'loose' });
  </script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          animation: { 'fade-in': 'fadeIn 0.6s ease-out' },
          keyframes: { fadeIn: { '0%': { opacity: '0', transform: 'translateY(12px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } } }
        }
      }
    }
  </script>
  <script>
// Auto-load static external sections (Models, Registry, etc.)
const STATIC_SECTIONS = {
  models: 'templates/models.html',
  registry: 'templates/registry.html',
  // add more later if you want
};

document.querySelectorAll('.menu-item').forEach(link => {
  link.addEventListener('click', async function(e) {
    e.preventDefault();
    
    const targetId = this.getAttribute('href').substring(1);
    
    // Hide all sections
    document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
    document.querySelectorAll('.menu-item').forEach(i => {
      i.classList.remove('bg-white/10', 'text-white', 'font-medium');
      i.classList.add('text-indigo-100');
    });
    
    // Highlight active menu item
    this.classList.add('bg-white/10', 'text-white', 'font-medium');
    this.classList.remove('text-indigo-100');
    
    // If it's a static external template → load it
    if (STATIC_SECTIONS[targetId]) {
      const container = document.getElementById(targetId + 'Content');
      if (container && !container.innerHTML.trim()) {
        try {
          const resp = await fetch(STATIC_SECTIONS[targetId]);
          if (resp.ok) {
            container.innerHTML = await resp.text();
            lucide.createIcons(); // re-init icons
          }
        } catch (err) {
          container.innerHTML = `<p class="text-red-600 p-8">Failed to load section.</p>`;
        }
      }
    }
    
    // Show the target section
    const targetSection = document.getElementById(targetId);
    if (targetSection) {
      targetSection.classList.remove('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Close mobile menu
    document.getElementById('sidebar')?.classList.add('-translate-x-full');
    document.getElementById('sidebar-overlay')?.classList.add('hidden');
  });
});

// Load Overview on start
document.querySelector('.menu-item')?.click();
</script>
  <script>
  // Auto-load static templates on first visit
  const staticTemplates = [
    { id: 'models', url: 'templates/models.html' },
    { id: 'registry', url: 'templates/registry.html' } // if you want it external too
  ];

  document.querySelectorAll('.menu-item').forEach(link => {
    link.addEventListener('click', function(e) {
      const target = this.getAttribute('href').substring(1);
      
      // Only auto-load if it's a static template
      const tmpl = staticTemplates.find(t => t.id === target);
      if (tmpl) {
        const container = document.getElementById(tmpl.id + 'Content');
        if (container && !container.innerHTML.trim()) {
          fetch(tmpl.url)
            .then(r => r.text())
            .then(html => {
              container.innerHTML = html;
              lucide.createIcons();
            });
        }
      }

      // Normal navigation logic (your existing code)
      document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
      document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('bg-white/10', 'text-white', 'font-medium'));
      document.getElementById(target)?.classList.remove('hidden');
      this.classList.add('bg-white/10', 'text-white', 'font-medium');
      document.getElementById('sidebar').classList.add('-translate-x-full');
      document.getElementById('sidebar-overlay').classList.add('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  });
</script>

  <!-- Global Template System -->
  <script type="module">
    window.showTemplate = async (id, url, returnTo = 'overview') => {
      document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
      const el = document.getElementById(id);
      if (!el.innerHTML.trim()) {
        const resp = await fetch(url);
        el.innerHTML = await (await resp).text();
      }
      el.dataset.returnTo = returnTo;
      el.classList.remove('hidden');
      lucide.createIcons();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };

    window.doneAndReturn = (msg = "Success! Action completed.") => {
      const active = document.querySelector('.content-section:not(.hidden)');
      if (!active) return;
      const back = active.dataset.returnTo || 'overview';
      active.classList.add('hidden');
      document.getElementById(back)?.classList.remove('hidden');

      const toast = Object.assign(document.createElement('div'), {
        textContent: msg,
        className: 'fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-8 py-4 bg-emerald-600 text-white font-bold rounded-2xl shadow-2xl animate-pulse'
      });
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3200);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };
  </script>
</head>

<body class="bg-gray-50 text-gray-900 min-h-screen flex flex-col lg:flex-row font-sans">
  <!-- MOBILE HEADER -->
  <header class="lg:hidden bg-gradient-to-r from-indigo-950 to-purple-950 text-white p-4 flex justify-between items-center shadow-xl">
    <button id="mobile-menu-btn"><i data-lucide="menu" class="w-8 h-8"></i></button>
    <img src="assets/ProofCortex.png" alt="ProofCortex" class="h-10" />
    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex text-white font-bold">VV</div>
  </header>

  <!-- SIDEBAR -->
  <aside id="sidebar" class="fixed lg:static inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-indigo-950 to-purple-950 text-white shadow-2xl transform -translate-x-full lg:translate-x-0 transition-transform duration-300 flex flex-col">
    <div class="p-8 text-center border-b border-indigo-800">
      <img src="assets/ProofCortex.png" alt="ProofCortex" class="mx-auto w-40" />
    </div>
    <nav class="flex-1 px-4 py-6 space-y-1">
      <a href="#overview" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Overview</a>
      <a href="#models" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Models</a>
      <a href="#registry" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Model Registry</a>
      <a href="#proofs" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Proof Submissions</a>
      <a href="#trust" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Trust Scores</a>
      <a href="#explorer" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">BlockDAG Explorer</a>
      <a href="#wallet" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Wallet</a>
      <a href="#settings" class="menu-item flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-white/10 transition">Settings</a>
    </nav>
  </aside>

  <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden"></div>

  <!-- MAIN -->
  <div class="flex-1 flex flex-col">
    <header class="hidden lg:flex bg-white border-b px-10 py-6 justify-between items-center shadow-sm">
      <h1 class="text-xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
        ProofCortex • Trust Platform for AI
      </h1>
      <div class="flex items-center gap-6">
        <span class="hidden md:block text-gray-600">veer.vijay@proofcortex.com</span>
        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex-center text-white text-xl font-bold">VV</div>
      </div>
    </header>

    </header>

    <main class="flex-1 p-6 lg:p-10 bg-gradient-to-br from-gray-50 to-indigo-50/20 overflow-y-auto">
      <!-- OVERVIEW -->
      <section id="overview" class="content-section">
        <div class="max-w-7xl mx-auto">
          <h2 class="text-3xl lg:text-4xl font-black text-gray-900">Dashboard Overview</h2>
          <p class="mt-4 text-lg text-gray-600 max-w-3xl">Real-time monitoring of AI model trust, proof integrity, and on-chain anchoring</p>

          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 mt-12">
            <div class="bg-white rounded-3xl shadow-2xl p-10 border border-indigo-100">
              <div class="flex justify-between items-start">
                <div>
                  <p class="text-gray-500 text-sm font-semibold">Total Models Onboarded</p>
                  <p class="text-6xl font-black text-indigo-600 mt-4">12</p>
                </div>
                <i data-lucide="package class="w-14 h-14 text-indigo-500 opacity-20"></i>
              </div>
            </div>
            <div class="bg-white rounded-3xl shadow-2xl p-10 border border-indigo-100">
              <div class="flex justify-between items-start">
                <div>
                  <p class="text-gray-500 text-sm font-semibold">Proofs Submitted</p>
                  <p class="text-6xl font-black text-emerald-600 mt-4">184</p>
                </div>
                <i data-lucide="shield-check" class="w-14 h-14 text-emerald-600 opacity-20"></i>
              </div>
            </div>
            <div class="bg-white rounded-3xl shadow-2xl p-10 border border-indigo-100">
              <div class="flex justify-between items-start">
                <div>
                  <p class="text-gray-500 text-sm font-semibold">Global Trust Score</p>
                  <p class="text-6xl font-black text-teal-600 mt-4">96.8%</p>
                </div>
                <i data-lucide="trending-up" class="w-14 h-14 text-teal-600 opacity-20"></i>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- MODELS -->
      <section id="models" class="content-section hidden">
        <div id="modelsContent"></div>
      </section>

      <!-- REGISTRY, PROOFS, TRUST, EXPLORER, WALLET, SETTINGS -->
      <!-- All use the same design system as above — just copy the structure -->

      <!-- Template containers -->
      <div id="registerModel" class="content-section hidden"></div>
      <div id="submitProof" class="content-section hidden"></div>

      <!-- Proof Detail Modal -->
      <div id="proofDetailModal" class="fixed inset-0 bg-black/70 z-50 hidden flex items-center justify-center p-4">
        <div id="proofDetailContent" class="max-w-4xl w-full"></div>
      </div>
    </main>
  </div>

  <!-- Scripts -->
  <script>
    lucide.createIcons();
    document.getElementById('mobile-menu-btn')?.addEventListener('click', () => {
      document.getElementById('sidebar').classList.toggle('-translate-x-full');
      document.getElementById('sidebar-overlay').classList.toggle('hidden');
    });
    document.getElementById('sidebar-overlay').addEventListener('click', () => {
      document.getElementById('sidebar').classList.add('-translate-x-full');
      document.getElementById('sidebar-overlay').classList.add('hidden');
    });
    document.querySelector('.menu-item')?.click();
  </script>
</body>
</html>
